<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bswill.mapper.NotificationMapper">

<!--     알림 조회 -->
<!--     <select id="selectNoti" parameterType="int" resultType="com.bswill.domain.NotificationVO"> -->
<!--         SELECT * FROM tbl_notification WHERE employee_id = #{employee_id} -->
<!--     </select> -->

    <!-- 알림 목록 조회 -->
    <select id="notiListSelect" resultType="com.bswill.domain.NotificationVO">
        SELECT * FROM tbl_notification
    </select>

    <!-- 알림 읽음 -->
    <update id="readNoti" parameterType="int">
        UPDATE tbl_notification SET is_read = 1 WHERE employee_id = #{employee_id}
    </update>

    <!-- 알림 삭제 -->
    <delete id="deleteNoti" parameterType="int">
        DELETE FROM tbl_notification WHERE employee_id = #{employee_id}
    </delete>

    <!-- 알림 출력 확인 -->
    <insert id="sendNoti" parameterType="com.bswill.domain.NotificationVO">
        <!-- 해당 쿼리는 예시이므로 적절한 쿼리로 대체하세요 -->
        INSERT INTO tbl_notification (employee_id, notification_content, is_read) VALUES (#{employee_id}, #{notification_content}, #{is_read})
    </insert>

    <!-- 알림 전체 삭제 -->
    <delete id="deleteAllNoti">
        DELETE FROM tbl_notification
    </delete>

</mapper>
